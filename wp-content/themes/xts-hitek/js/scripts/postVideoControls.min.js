!function(r){XTSThemeModule.$document.on("xtsBlogLoadMoreSuccess",function(){XTSThemeModule.postVideoControls()}),r.each(["frontend/element_ready/xts_blog.default"],function(e,t){XTSThemeModule.xtsElementorAddAction(t,function(){XTSThemeModule.postVideoControls()})}),XTSThemeModule.postVideoControls=function(){function n(e){var t,e=e.find("iframe"),s=e.parents(".xts-post"),o=s.find(".xts-post-control.xts-play"),d=s.find(".xts-post-control.xts-mute");t=new YT.Player(e[0],{events:{onReady:function(){o.on("click",function(){s.hasClass("xts-video-playing")?(s.removeClass("xts-video-playing"),t.pauseVideo()):(s.addClass("xts-video-playing"),t.playVideo())}),d.on("click",function(){s.hasClass("xts-video-muted")?(s.removeClass("xts-video-muted"),t.unMute()):(s.addClass("xts-video-muted"),t.mute())}),o.trigger("click")}}})}function l(e){var t=e.find("iframe"),s=t.parents(".xts-post"),o=s.find(".xts-post-control.xts-play"),e=s.find(".xts-post-control.xts-mute"),d=new Vimeo.Player(t[0]);o.on("click",function(){s.hasClass("xts-video-playing")?(s.removeClass("xts-video-playing"),d.pause()):(s.addClass("xts-video-playing"),d.play())}),e.on("click",function(){s.hasClass("xts-video-muted")?(s.removeClass("xts-video-muted"),d.setVolume(1)):(s.addClass("xts-video-muted"),d.setVolume(0))})}r(".xts-post-controls .xts-play").on("click",function(e){e.preventDefault();var t,s,o,d=r(this),a=d.parents(".xts-post-thumb").find(".xts-post-video"),i=a.find("iframe");0===i.length&&(i=a.find("video")),a.hasClass("xts-loaded")||((e=i.data("lazy-load")).indexOf("vimeo.com")+1?e=e.replace("#t=","")+"&autoplay=1":e.indexOf("youtube.com")+1&&(e+="&autoplay=1&rel=0"),i.attr("src",e),a.addClass("xts-loaded"),d.addClass("xts-loading"),a.hasClass("xts-post-video-youtube")?"undefined"==typeof YT||void 0===YT.Player?r.getScript("https://www.youtube.com/player_api",function(){t=setInterval(function(){void 0!==YT.Player&&(clearInterval(t),n(a),d.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded"))},100)}):(n(a),d.removeClass("xts-loading")):a.hasClass("xts-post-video-html5")?(s=(i=a).find("video"),o=s.parents(".xts-post"),e=o.find(".xts-post-control.xts-play"),i=o.find(".xts-post-control.xts-mute"),e.on("click",function(){o.hasClass("xts-video-playing")?(o.removeClass("xts-video-playing"),s[0].pause()):(o.addClass("xts-video-playing"),s[0].play())}),i.on("click",function(){o.hasClass("xts-video-muted")?(o.removeClass("xts-video-muted"),s.prop("muted",!1)):(o.addClass("xts-video-muted"),s.prop("muted",!0))}),d.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded"),d.trigger("click"),d.parents(".xts-post").addClass("xts-video-playing")):a.hasClass("xts-post-video-vimeo")&&("undefined"==typeof Vimeo||void 0===Vimeo.Player?r.getScript(xts_settings.vimeo_library_url,function(){l(a),d.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded")}):(l(a),d.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded")),d.trigger("click"),d.parents(".xts-post").addClass("xts-video-playing")))})},r(document).ready(function(){XTSThemeModule.postVideoControls()})}(jQuery);