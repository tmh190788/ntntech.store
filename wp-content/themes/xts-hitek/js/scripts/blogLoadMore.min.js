!function(i){XTSThemeModule.blogLoadMore=function(){var d=".xts-load-more.xts-type-blog.xts-action-infinite",r=!1;XTSThemeModule.clickOnScrollButton(d,!1),i(".xts-load-more.xts-type-blog").on("click",function(o){var e,a,s,t,n,l;o.preventDefault(),r||(r=!0,e=i(this),a=e.parent().parent().find(".xts-blog"),s=a.data("source"),t=xts_settings.ajaxurl,n=a.data("paged"),l=a.data("atts"),o="POST",e.addClass("xts-loading"),l={paged:n,atts:l,action:"xts_get_blog_"+s},"main_loop"===s?(t=e.attr("href"),o="GET",l={loop:a.find(".xts-col").last().data("loop")}):l.atts.loop=a.find(".xts-col").last().data("loop"),i.ajax({url:t,data:l,dataType:"json",method:o,success:function(o){var t;o.items&&(a.hasClass("xts-masonry-layout")?(t=i(o.items),a.append(t).isotope("appended",t),a.imagesLoaded().progress(function(){a.isotope("layout")})):a.append(o.items),XTSThemeModule.$document.trigger("xtsBlogLoadMoreSuccess"),a.imagesLoaded().progress(function(){XTSThemeModule.clickOnScrollButton(d,!0)}),a.data("paged",n+1),window.history.pushState("","",o.currentPage),"main_loop"===s&&e.attr("href",o.nextPage)),"no-more-posts"===o.status&&e.remove()},error:function(){console.log("ajax error")},complete:function(){e.removeClass("xts-loading"),r=!1}}))})},i(document).ready(function(){XTSThemeModule.blogLoadMore()})}(jQuery);