!function(d){XTSThemeModule.singleProductAjaxAddToCart=function(){"no"!==xts_settings.single_product_ajax_add_to_cart&&XTSThemeModule.$body.on("submit","form.cart",function(t){t.preventDefault();var o,a=d(this),t=a.parents(".product");t.hasClass("product-type-external")||t.hasClass("product-type-zakeke")||(o=a.find(".single_add_to_cart_button"),a=a.serialize(),a+="&action=xts_single_product_ajax_add_to_cart",o.val()&&(a+="&add-to-cart="+o.val()),o.removeClass("added xts-not-added").addClass("loading"),d(document.body).trigger("adding_to_cart",[o,a]),d.ajax({url:xts_settings.ajaxurl,data:a,method:"POST",success:function(t){var a,e;t&&(t.error&&t.product_url?window.location=t.product_url:"yes"===xts_settings.cart_redirect_after_add?window.location=xts_settings.cart_url:(o.removeClass("loading"),a=t.fragments,e=t.cart_hash,a&&d.each(a,function(t){d(t).addClass("xts-updating")}),a&&d.each(a,function(t,a){d(t).replaceWith(a)}),0<t.notices.indexOf("error")?(d(".woocommerce-notices-wrapper").append(t.notices),o.addClass("xts-not-added")):("widget"===xts_settings.action_after_add_to_cart&&d.magnificPopup.close(),d(document.body).trigger("added_to_cart",[a,e,o]))))},error:function(){console.log("ajax adding to cart error")}}))})},d(document).ready(function(){XTSThemeModule.singleProductAjaxAddToCart()})}(jQuery);