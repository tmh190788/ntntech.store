!function(s){XTSThemeModule.onePageMenu=function(){var n,i,e;void 0!==s.fn.xtsWaypoint&&(n=function(e){var t=s("html, body");t.stop(!0);var n,o=s('.xts-menu-anchor[data-id="'+e+'"]');o.length<1||(n=o.offset().top,t.animate({scrollTop:n-o.data("offset")},800),setTimeout(function(){i(e)},800))},i=function(t){s(".xts-onepage-link").each(function(){var e=s(this);e.find("> a").attr("href").split("#")[1]===t&&(e.siblings().removeClass("current-menu-item"),e.addClass("current-menu-item"))})},XTSThemeModule.$body.on("click",".xts-onepage-link > a",function(e){var t=s(this).attr("href").split("#")[1];s('.xts-menu-anchor[data-id="'+t+'"]').length<1||(e.stopPropagation(),e.preventDefault(),n(t),s(".xts-close-side").trigger("click"),s(".xts-fs-close").trigger("click"))}),0<s(".xts-onepage-link").length&&(XTSThemeModule.$document.on("scroll",function(){var e;0===s(this).scrollTop()&&((e=s(".xts-onepage-link").first()).siblings().removeClass("current-menu-item"),e.addClass("current-menu-item"))}),s(".xts-menu-anchor").xtsWaypoint(function(){i(s(s(this)[0].element).data("id"))},{offset:function(){return s(s(this)[0].element).data("offset")}}),e=window.location.hash.split("#")[1],1<window.location.hash.length&&setTimeout(function(){n(e)},500)))},s(document).ready(function(){XTSThemeModule.onePageMenu()})}(jQuery);